if(CMAKE_SYSTEM_NAME STREQUAL Generic)
    target_sources(Sts1CobcSw_FileSystem PRIVATE FileSystem.cpp)
    target_link_libraries(Sts1CobcSw_FileSystem PUBLIC littlefs::littlefs)
    target_link_libraries(Sts1CobcSw_FileSystem PRIVATE Sts1CobcSw_Periphery Sts1CobcSw_Serial)
else()
    target_sources(Sts1CobcSw_FileSystem PRIVATE LfsWrapper.cpp LfsRam.cpp)
    target_link_libraries(Sts1CobcSw_FileSystem PUBLIC littlefs::littlefs)
    target_link_libraries(Sts1CobcSw_FileSystem PRIVATE Sts1CobcSw_Serial)
endif()
